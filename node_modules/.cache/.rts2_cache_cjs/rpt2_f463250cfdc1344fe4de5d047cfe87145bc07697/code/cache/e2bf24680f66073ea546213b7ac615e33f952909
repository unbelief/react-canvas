{"code":"import { useContext, useEffect } from \"react\";\r\n// import { sourceEvents, sourceStyle } from \"./const\";\r\nimport { context } from \"./scene\";\r\nimport useStyle from \"./useStyle\";\r\nfunction Image(props) {\r\n    //   const { state, dispatch } = useContext(context);\r\n    const { state } = useContext(context);\r\n    const style = useStyle(props);\r\n    useEffect(() => {\r\n        // let image = new Image();\r\n        // image.setAttribute(\"crossOrigin\", \"anonymous\");\r\n        // image.onload = function() {\r\n        //     renderImage(state.context, style);\r\n        //     image.onload = null;\r\n        //     image = null;\r\n        // };\r\n        // image.src = `${props.src}?${+new Date()}`;\r\n        renderImage(state.context, style, props.src);\r\n    }, [props.src]);\r\n    return null;\r\n}\r\nfunction renderImage(ctx, style, src) {\r\n    console.log(src, `image`);\r\n    //ctx.drawImage(content, style.left, style.top, style.width, style.height);\r\n    if (!!style.border) {\r\n        ctx.rect(style.left, style.top, style.width, style.height);\r\n        ctx.stroke();\r\n    }\r\n}\r\nexport { Image, renderImage };\r\n//# sourceMappingURL=image.js.map","references":["/Users/hhh/coding/react-canvas/node_modules/@types/react/index.d.ts","/Users/hhh/coding/react-canvas/src/adapter/scene.tsx","/Users/hhh/coding/react-canvas/src/adapter/useStyle.tsx"],"map":"{\"version\":3,\"file\":\"image.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/adapter/image.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAC9C,uDAAuD;AACvD,OAAO,EAAE,OAAO,EAAE,MAAM,SAAS,CAAC;AAClC,OAAO,QAAQ,MAAM,YAAY,CAAC;AAQlC,SAAS,KAAK,CAAC,KAAY;IACzB,qDAAqD;IACrD,MAAM,EAAE,KAAK,EAAE,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC;IACtC,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAE9B,SAAS,CAAC,GAAG,EAAE;QACb,2BAA2B;QAC3B,kDAAkD;QAClD,8BAA8B;QAC9B,yCAAyC;QACzC,2BAA2B;QAC3B,oBAAoB;QACpB,KAAK;QACL,6CAA6C;QAE7C,WAAW,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;IAC/C,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;IAEhB,OAAO,IAAI,CAAC;AACd,CAAC;AAED,SAAS,WAAW,CAAC,GAAQ,EAAE,KAAU,EAAE,GAAQ;IACjD,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAC1B,2EAA2E;IAC3E,IAAI,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE;QAClB,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;QAC3D,GAAG,CAAC,MAAM,EAAE,CAAC;KACd;AACH,CAAC;AAED,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,CAAC\"}","dts":{"name":"/Users/hhh/coding/react-canvas/adapter/image.d.ts","writeByteOrderMark":false,"text":"interface Props {\r\n    src: string;\r\n    style?: any;\r\n    event?: any;\r\n}\r\ndeclare function Image(props: Props): null;\r\ndeclare function renderImage(ctx: any, style: any, src: any): void;\r\nexport { Image, renderImage };\r\n"}}
